{"version":3,"file":"static/js/MoviesPage.1112ee17.chunk.js","mappings":"4PAEaA,EAAYC,EAAAA,EAAAA,KAAF,4KASVC,EAAmBD,EAAAA,EAAAA,OAAH,2WAkBhBE,EAAkBF,EAAAA,EAAAA,MAAH,sR,SCsD5B,MA3EA,WACE,OAA4BG,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAkCF,EAAAA,EAAAA,UAAS,IAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACMC,GAAWC,EAAAA,EAAAA,MACjB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KA4CA,OArCAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAQH,EAAaI,IAAI,UAAY,GACtCD,IAGLE,MAAM,sIAAD,OACmIF,IAErIG,MAAK,SAAAC,GACJ,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OACb,IAAIC,MAAJ,kMAGHN,MAAK,SAAAC,GACJ,IAAMM,EAAON,EAASO,QAAQC,KAAI,kBAA0B,CAC1DC,MADgC,EAAGA,MAEnCC,GAFgC,EAAUA,GAG1CC,KAHgC,EAAcA,SAKhDtB,GAAa,yBAAUiB,SAG3BnB,EAAUS,MACT,CAACH,KAYF,4BACE,UAACZ,EAAD,CAAY+B,SAXK,SAAAC,GACnBA,EAAMC,iBACNpB,GAAgB,iBAAO,CAAEE,MAAOiB,EAAME,OAAO7B,OAAO8B,UAC9B,KAAlB9B,EAAO+B,QACTC,MAAM,+EAON,WACE,SAAClC,EAAD,CACEmC,KAAK,OACLC,aAAa,MACbC,YAAY,gBACZL,MAAO9B,EACPoC,SAlDa,SAAAT,GACnB1B,EAAU0B,EAAMU,cAAcP,OAC9BtB,EAAgB,CAAEE,MAAOiB,EAAMU,cAAcP,YAkDzC,SAACjC,EAAD,CAAkBoC,KAAK,SAAvB,uBAED/B,IACC,wBACGA,EAAUoB,KAAI,gBAAGC,EAAH,EAAGA,MAAOE,EAAV,EAAUA,KAAMD,EAAhB,EAAgBA,GAAhB,OACb,yBACE,SAAC,KAAD,CAAMc,GAAI,CAAEC,SAAS,GAAD,OAAKf,GAAMgB,MAAO,CAAEpC,SAAAA,IAAxC,SACGmB,GAAgBE,KAFZD,a,8ECnEN,SAASiB,EAAmBC,GACzC,OCJa,SAA4BA,GACzC,GAAIC,MAAMC,QAAQF,GAAM,OAAO,EAAAG,EAAA,GAAiBH,GDGzC,CAAkBA,IELZ,SAA0BI,GACvC,GAAsB,qBAAXC,QAAmD,MAAzBD,EAAKC,OAAOC,WAA2C,MAAtBF,EAAK,cAAuB,OAAOH,MAAMM,KAAKH,GFInF,CAAgBJ,KAAQ,EAAAQ,EAAA,GAA2BR,IGLvE,WACb,MAAM,IAAIS,UAAU,wIHIwE","sources":["pages/MoviesPage/MoviesPage.styles.jsx","pages/MoviesPage/MoviesPage.jsx","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["import styled from '@emotion/styled'\n\nexport const SearchForm= styled.form`\ndisplay: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n`\nexport const SearchFormButton = styled.button`\n  display: inline-block;\n  width: 70px;\n  height: 34px;\n  border: 0;\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  border: 1px solid grey;\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nexport const SearchFormInput = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 26px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  border: 1px solid grey;\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;","import React, { useState, useEffect } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport {\n  SearchForm,\n  SearchFormButton,\n  SearchFormInput,\n} from './MoviesPage.styles';\n\nfunction MoviesPage() {\n  const [search, setSearch] = useState('');\n  const [respArray, setRespArray] = useState([]);\n  const location = useLocation();\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const handleChange = event => {\n    setSearch(event.currentTarget.value);\n    setSearchParams({ query: event.currentTarget.value });\n  };\n\n  useEffect(() => {\n    const query = searchParams.get('query') || '';\n    if (!query) {\n      return;\n    }\n    fetch(\n      `https://api.themoviedb.org/3/search/movie?api_key=a4a29fffc470fecd93a30cf31010c680&language=en-US&page=1&include_adult=false&query=${query}`\n    )\n      .then(response => {\n        if (response.ok) {\n          return response.json();\n        }\n        return Promise.reject(\n          new Error(`По Вашому запиту нічого не знайдено!`)\n        );\n      })\n      .then(response => {\n        const hits = response.results.map(({ title, id, name }) => ({\n          title,\n          id,\n          name,\n        }));\n        setRespArray(() => [...hits]);\n      });\n\n    setSearch(query);\n  }, [searchParams]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    setSearchParams(() => ({ query: event.target.search.value }));\n    if (search.trim() === '') {\n      alert('Введіть запит!');\n      return;\n    }\n  };\n\n  return (\n    <div>\n      <SearchForm onSubmit={handleSubmit}>\n        <SearchFormInput\n          type=\"text\"\n          autocomplete=\"off\"\n          placeholder=\"Search movies\"\n          value={search}\n          onChange={handleChange}\n        />\n        <SearchFormButton type=\"submit\">Search</SearchFormButton>\n      </SearchForm>\n      {respArray && (\n        <ul>\n          {respArray.map(({ title, name, id }) => (\n            <li key={id}>\n              <Link to={{ pathname: `${id}`, state: { location } }}>\n                {title ? title : name}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n\nexport default MoviesPage;\n","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["SearchForm","styled","SearchFormButton","SearchFormInput","useState","search","setSearch","respArray","setRespArray","location","useLocation","useSearchParams","searchParams","setSearchParams","useEffect","query","get","fetch","then","response","ok","json","Promise","reject","Error","hits","results","map","title","id","name","onSubmit","event","preventDefault","target","value","trim","alert","type","autocomplete","placeholder","onChange","currentTarget","to","pathname","state","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError"],"sourceRoot":""}